---
marp: true
theme: default
markdown.marp.enableHtml: true
paginate: true
extra: true
footer: "Intro aux HN, mineure HN (L1HN001), 12/10/2023, Ljudmila PETKOVIC"
html: true
---

  <style type="text/css">
  section {
    background-color: white;
    color: black;
  }

@import url('//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css');

td {
  text-align: center;
}

h1 {
    color: DarkBlue;
  }

  

  h2 {
    color: DarkBlue;
  }

  h3 {
    color: DarkBlue;
  }

  h4 {
    color: DarkBlue;
  }

  h5 {
    color: DarkBlue;
  }

  h6 {
    color: DarkBlue;
    font-size: 30px;
    font-weight:normal;
  }

  blockquote {
    background: #ffedcc;
    border-left: 10px solid #d1bf9d;
    margin: 1.5em 10px;
    padding: 0.5em 10px;
  }
  blockquote:before{
    content: unset;
  }

  blockquote:after{
    content: unset;
  }

  medium-text {
      font-size: 0.9rem;
    }

  small-text {
      font-size: 0.7rem;
    }

  smaller-text {
      font-size: 0.5rem;
    }

  .center {
   display: block;
     margin-left: auto;
   margin-right: auto;
     width: 50%;
  }

    #content {
          position: relative;
      }
      #content img {
          position: absolute;
          top: -600px;
          right: 0px;
      }

.info-msg,
.success-msg,
.warning-msg,
.error-msg {
  margin: 5px 0;
  margin-bottom: 20px;
  padding: 10px;
  border-radius: 5px 5px 5px 5px;
  border: 2px solid transparent;
  border-color: transparent;
}
.info-msg {
  color: #059;
  background-color: #BEF;
}
.success-msg {
  color: #270;
  background-color: #DFF2BF;
}
.warning-msg {
  color: #9F6000;
  background-color: #FEEFB3;
}
.error-msg {
  color: #D8000C;
  background-color: #FFBABA;
}



  </style>





  <!-- _class: lead -->

  ## Traitement et exploitation d'un objet d'étude

  ###### Ljudmila PETKOVIC

  <br>

  ![bg left:50% 80% width:190pt height:100pt](https://htl.cnrs.fr/wp-content/uploads/2021/05/sorbonne_nouvelle-devise-trapezes_bleu-e1622639412877.png) 


  ![bg width:150pt width:170pt height:100pt background-size: cover;](https://www.leaders.com.tn/uploads/content/thumbnails/155414613656_content.jpg) 


  <small-text>

  Introduction aux humanités numériques (L1HN001)
  Mineure « Humanités numériques », licence Lettres 
  Paris, le 12 octobre 2023, année 2023-2024

  </small-text>

---

## Chaîne de traitement

Angl. *workflow*, *pipeline* 

* série de processus et d'outils interconnectés et souvent automatisés conçus pour faciliter la collecte, le traitement, l'analyse et la visualisation de données numériques <img src="file:///home/ljudmila/Bureau/SN/IHN_L1HN001/cours/IHN_Ljudmila_PETKOVIC/cours_4_Traitement_Exploitation/img/workflow_IHN.png" alt="Paris" width="1000">

---

# Comment faire en sorte qu’une machine comprenne du texte et comment en extraire de la connaissance ?

---

## Ordinateur *vs.* humain

* un ordinateur ne comprend pas le français comme un humain pourrait le faire
* les mots n’ont pas de sens pour une machine ➯ moyens spécifiques pour les exploiter et les manipuler numériquement
  * le TAL adresse cette problématique de compréhension du texte 

---

## Mettre les textes en données

* constituer son corpus et récupérer des textes au format numérique — et non pas numérisé : pas de page scannée à la manière d’une photographie — dans un fichier texte ou sur une page web 

<img src="file:///home/ljudmila/Bureau/SN/IHN_L1HN001/cours/IHN_Ljudmila_PETKOVIC/cours_4_Traitement_Exploitation/img/acquisition.png" alt="Paris" width="500" class="center">

---

## Qu’est-ce que l’analyse de données textuelles ?

Mettre en données un texte, c’est en extraire des données organisées :

<style type="text/css">
.tg  {border-collapse:collapse;border-spacing:0;}
.tg td{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
  overflow:hidden;padding:10px 5px;word-break:normal;}
.tg th{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
  font-weight:normal;overflow:hidden;padding:10px 5px;word-break:normal;}
.tg .tg-z3id{border-color:#ffffff;color:#87321f;font-size:26px;font-weight:bold;text-align:left;vertical-align:top}
.tg .tg-b5gb{border-color:#ffffff;font-size:25px;text-align:left;vertical-align:top}
</style>
<table class="tg">
<thead>
  <tr>
    <th class="tg-z3id">fréquences</th>
    <th class="tg-b5gb">nombre de mots dans une phrase, dans le corpus</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td class="tg-z3id">concordances</td>
    <td class="tg-b5gb"><span style="font-weight:400;font-style:normal">occurrences d’un mot dans son contexte</span></td>
  </tr>
  <tr>
    <td class="tg-z3id">index</td>
    <td class="tg-b5gb">liste hiérarchisée des mots les plus employés</td>
  </tr>
  <tr>
    <td class="tg-z3id">étiquetage morphosyntaxique</td>
    <td class="tg-b5gb">assigner chaque mot d'un texte à sa catégorie grammaticale</td>
  </tr>
  <tr>
    <td class="tg-z3id">relations</td>
    <td class="tg-b5gb">compte d’interactions entre tel et tel élément (p. ex. personnage)</td>
  </tr>
  <tr>
    <td class="tg-z3id">collocations (co-occurrences)</td>
    <td class="tg-b5gb">mots associés fréquemment</td>
  </tr>
</tbody>
</table>


* <small-text>comparer des auteurs, différents chapitres d’une même œuvre, différentes œuvres d’un même auteur...</small-text>

---

## Premières pistes d’analyses

* « **liberté** de presse », « **liberté** de pensée »...

<p align="center" width="100%">
    <img width="100%" src="file:///home/ljudmila/Bureau/SN/IHN_L1HN001/cours/IHN_Ljudmila_PETKOVIC/cours_4_Traitement_Exploitation/img/liberte.png">
</p>



<p style="text-align: center;"><small-text>Tableau et représentation des collocations du mot « liberté » dans <i>Actes et paroles</i> de Victor Hugo.</small-text></p>

---

## Outils de mise en données des textes

Pour transformer un texte en données organisées nous pouvons utiliser des logiciels, des services dédiés, ou entrer nous-même des données textuelles dans un tableur. 

* l’exploitation des textes nécessite qu’ils soient accessibles dans un format numérique exploitable par les services ou logiciels
* privilégier l’exploitation des textes accessibles dans le domaine public ou disponibles sous licence ouverte de type *creative commons* 

<div style="padding: 15px; border: 1px solid transparent; border-color: transparent; margin-bottom: 20px; border-radius: 4px; color: #a94442; background-color: #f2dede; border-color: #ebccd1;">
Avant d'être utilisables numériquement, les textes doivent subir un pré-traitement
(nettoyage).
</div>



---

## Gestion du paratexte

* crédits, mentions légales... ➯ besoin d'un nettoyage plus ciblé (programmation)

<table align="center">
  <tr>
    <td> <a href="https://fr.wikisource.org/wiki/Hamlet/Traduction_Hugo,_1865/Le_premier_Hamlet"><img src="file:///home/ljudmila/Bureau/SN/IHN_L1HN001/cours/IHN_Ljudmila_PETKOVIC/cours_4_Traitement_Exploitation/img/wikisource.png"  alt="1" width = 350 height = 400 ></a></td>
   <td><img src="file:///home/ljudmila/Bureau/SN/IHN_L1HN001/cours/IHN_Ljudmila_PETKOVIC/cours_4_Traitement_Exploitation/img/credits.png"  alt="1" width = 450px height = 400px >
</td>

   </tr> 
</table>

---

## Pré-traitement

* étape inévitable, essentielle et pourtant fastidieuse pour tout projet TAL
* harmonisation : du corpus « bruité » ou « sale » au corpus « propre », p. ex. 
  * tokeniser le texte
  * enlever les mots vides
  * lemmatiser le texte 
  * remplacer toutes les majuscules par des minuscules (`ljudmila ≠ Ljudmila`)
  * retirer la ponctuation (`. , ? ! ; : ... ( ) [ ] « » – / { }`)
  * retirer les nombres (si ceux-ci n’apportent pas d’informations pour l’analyse)
  * supprimer les lignes vides
* soit « nettoyer » le texte ou laisser ce « bruit » s’il ne fausse pas l’analyse
* tâche non triviale, a priori effectuée de manière entièrement automatisée

---

## Tokenisation

* décomposer une phrase, et donc un document, en *tokens*
  * token : élément correspondant à un mot ou une ponctuation
* cas particuliers :
  * mots avec un trait d’union (*peut être* ≠ *peut-être*)
  * dates et heures séparées par des points, des slashs, des deux points
  * apostrophes 
  * caractères spéciaux : émoticônes, formules mathématiques

---

## Tokenisation

<p align="center" width="100%">
    <img width="100%" src="file:///home/ljudmila/Bureau/SN/IHN_L1HN001/cours/IHN_Ljudmila_PETKOVIC/cours_4_Traitement_Exploitation/img/tokenisation.png">
</p>


---

## Mots vides 

* mots fonctionnels, mots outils, « antidictionnaires » (angl. *stop words*) 
* mots dont la fréquence d'apparition est trop élevée et dont le contenu n'est pas pertinent pour le processus d'extraction
  * typiquement les mots grammaticaux : conjonctions, prépositions, déterminants, pronoms, adverbes (*et, dans, le, je, où*...)

> :warning: À noter que la stylométrie<sup>1</sup> s’intéresse particulièrement à l’agencement des mots outils, signature « verbale » inconsciente du discours.

<small-text><sup>1</sup> Approche computationnelle et quantitative du texte, dont l'objectif est de mesurer les idiosynchrasies stylistiques, appellées « stylomes » (un ensemble de caractéristiques mesurables des produits linguistiques).</small-text>

---

## Retirer les mots vides

<p align="center" width="100%">
    <img width="100%" src="file:///home/ljudmila/Bureau/SN/IHN_L1HN001/cours/IHN_Ljudmila_PETKOVIC/cours_4_Traitement_Exploitation/img/stopwords.png">
</p>


---

## Lemmatisation

* chaque mot a une forme canonique (forme racine) et des formes fléchies (différentes occurrences possibles)

* objectif : associer chaque mot à une forme canonique 

* analyse lexicale qui permet de regrouper les mots d’une même famille ensemble 

  ➯ regroupement par *lemme*

  * verbes ➯ **infinitif** 
  * noms, adjectifs, articles ➯ **masculin singulier**

  <small-text>(le lemme correspond à l’infinitif des verbes et à la forme au masculin singulier des noms, adjectifs et articles)</small-text>

---

## Lemmatisation

<style type="text/css">
.tg  {border-collapse:collapse;border-spacing:0;}
.tg td{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
  overflow:hidden;padding:10px 5px;word-break:normal;}
.tg th{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
  font-weight:normal;overflow:hidden;padding:10px 5px;word-break:normal;}
.tg .tg-jejv{border-color:#ffffff;color:#010066;font-size:26px;font-weight:bold;text-align:center;vertical-align:top}
.tg .tg-z4av{border-color:#ffffff;color:#000000;font-size:26px;text-align:center;vertical-align:top}
</style>
<table class="tg">
<thead>
  <tr>
    <th class="tg-jejv">les</th>
    <th class="tg-jejv">étoiles</th>
    <th class="tg-jejv">claires</th>
    <th class="tg-jejv">luisent</th>
    <th class="tg-jejv">dans</th>
    <th class="tg-jejv">la</th>
    <th class="tg-jejv">nuit</th>
    <th class="tg-jejv">noire</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td class="tg-z4av">le</td>
    <td class="tg-z4av">étoile</td>
    <td class="tg-z4av">clair</td>
    <td class="tg-z4av">luire</td>
    <td class="tg-z4av">dans</td>
    <td class="tg-z4av">le</td>
    <td class="tg-z4av">nuit<br></td>
    <td class="tg-z4av">noir</td>
  </tr>
</tbody>
</table>



### Lemmatisation + élimination des mots vides

<p align="center">
    <img width="90%" src="file:///home/ljudmila/Bureau/SN/IHN_L1HN001/cours/IHN_Ljudmila_PETKOVIC/cours_4_Traitement_Exploitation/img/lemmatisation_stopwords_corr.png">
</p>



---

### Autre exemple de la lemmatisation

- texte **brut** : Le petit chat <i style="color:darkblue;">a disparu</i>. C'<i style="color:darkblue;">est</i> dommage, il <i style="color:darkblue;">était</i> gentil le chat.
- texte **lemmatisé** : Le petit chat <i style="color:darkgreen;">avoir disparaître</i>. C'<i style="color:darkgreen;">être</i> dommage, il <i style="color:darkgreen;">être</i> gentil le chat.
  - nombre de **lemmes**, après avoir converti tous les mots en minuscules (<b>10</b>) : *le, petit, chat, avoir, disparaître, c', être, dommage, il, gentil*


---

### *Token* vs. *type*

Le petit chat a disparu. C'est dommage, il était gentil le chat.

- **tokens** : instances individuelles d'une unité linguistique (<b style="color:darkblue;">13</b>) : *Le, petit, chat, a, disparu, c', est, dommage, il, était, gentil, le, chat*

- **types** : formes fléchies des mots, classes de tokens contenant la même séquence de caractères (<b style="color:red;">12</b>) : *Le, petit, chat, a, disparu, c', est, dommage, il, était, gentil, le*

  - noter deux différentes graphies de l'article défini (*Le, le*), considérées comme deux types différents, ainsi que la non-répétition du mot *chat*

  <div style="padding: 15px; border: 1px solid transparent; border-color: transparent; margin-bottom: 20px; border-radius: 4px; color: #31708f; background-color: #d9edf7; border-color: #bce8f1;">Les <b style="color:darkblue;">tokens</b> servent à mesurer le <b>volume</b> d'un corpus, tandis que les <b style="color:red;">types</b> servent à en mesurer la <b>richesse</b>, le nombre de formes <b>uniques</b>.</div>

  <div style="padding: 15px; border: 1px solid transparent; border-color: transparent; margin-bottom: 20px; border-radius: 4px; color: #8a6d3b;; background-color: #fcf8e3; border-color: #faebcc;">Ici, on ne compte <b>pas</b> les signes de ponctuations.</div>

---

### Mettre les textes en données (exemple)

<img src="file:///home/ljudmila/Bureau/SN/IHN_L1HN001/cours/IHN_Ljudmila_PETKOVIC/cours_4_Traitement_Exploitation/img/tableurs.png" alt="Paris" width="1000">

<p style="text-align: center;"><small-text>Tableur des échanges épistolaires dans <i>Les Liaisons dangereuses </i> (gauche) ; index des mots et informations sur le corpus <i>Les Misérables</i> (droite).</small-text></p>

---

## Voyant Tools

https://voyant-tools.org/

* environnement d’analyse de texte en ligne
* plateforme d’analyse de texte assistée par ordinateur
* aucune installation de logiciel n’est nécessaire
* analyser des textes importés depuis des fichiers ou liens hypertextes 
* analyser une œuvre, plusieurs pour les comparer (ou plusieurs actes/chapitres d’une même œuvre)

---

## Voyant Tools 

* [tutoriel d'Aurélien Berra](https://github.com/aurelberra/voyant_tools/blob/master/tutorial/voyant_tools_intro_fr.md) 
* [vidéo tutoriel](https://www.youtube.com/watch?v=W4EWdzJzCFQ&source_ve_path=OTY3MTQ&feature=emb_imp_woyt) de l'ancien labex [OBVIL](https://obvil.sorbonne-universite.fr/) 

<!--<iframe width="1000" height="600" src="https://www.youtube.com/embed/W4EWdzJzCFQ?si=jcSxSWsGlnjp7x3B" class="center" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>-->



---

## Des données aux visualisations

Les données textuelles peuvent être compilées dans des tableaux et comparées, analysées, représentées graphiquement avec des outils de visualisation de données.

Objectifs :

* analyser un grand volume de texte, dépasser les capacités de lecture

* mettre en évidence des aspects du corpus, étayer une argumentation

* ouvrir de nouvelles pistes sur le corpus ou asseoir une théorie

---

## À quoi bon ?

* le travail sur les données issues de texte, leur analyse et représentation, sert l’interprétation des œuvres
* interroger le texte, l'analyser dans un environnement technologique de l’écrit devenu numérique
* s'acculturer à ce milieu du texte, développer des habiletés propres au numérique et à la discipline pratiquée : les lettres, l’étude de textes

---

## Références 

  * **Gabay, S.** (2021). « 4. Introduction à la stylométrie » [_diapositives_] https://github.com/gabays/32M7129/blob/master/Cours_04/Cours_Geneve_4.pdf.
  * **Galleron, I.** (2021). « Introduction aux humanités numériques (L1HN001) [_diapositives en interne_].
  * **Marques, J.** (2021). « L’analyse de données textuelles en classe au service de la compréhension et de l’interprétation des textes ». Medium https://j0annamarques.medium.com/lanalyse-de-donn%C3%A9es-textuelles-en-classe-au-service-de-la-compr%C3%A9hension-et-de-l-interpr%C3%A9tation-des-5c3b96dd97c6.
  * **Team Data** (2018). Introduction au NLP : le traitement de texte automatisé » https://blog.coddity.com/articles/natural-language-processing/.stav
